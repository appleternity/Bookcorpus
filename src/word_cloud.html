<!DOCTYPE html>
<meta charset="utf-8">
<body>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <!-- <script src="https://rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script> -->
    <script src="d3.layout.cloud.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Recursive:wght@400;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <script type="text/javascript" src="test_frame_list_2.js"></script>
    <script type="text/javascript" src="word_cloud.js"></script>

    <style type="text/css">
        body {
            font-size: 14pt;
            padding-bottom:50px;
            padding-top: 20px;
        }
        .container-fluid {
            padding-left: 100px;
            padding-right: 100px;
        }
        svg {
            border: 1px solid black;
        }

        .my_container {
            display: inline-block;
        }

        .my_container h2 {
            text-align: center;
        }
        #instruction {
            font-size: 16pt;
            border-radius: 2px;
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
            padding: 15px;
        }
        #instruction strong {
            background-color: yellow;
        }
        .highlight {
            text-decoration: underline;
            font-weight: 900;
            color:red;
        }
        .story_block pre {
            white-space: pre-wrap;
            white-space: -moz-pre-wrap;
            white-space: -pre-wrap;
            white-space: -o-pre-wrap;
            word-wrap: break-word;
            font-size: 100%;
        }
        .options {
            font-size: 17pt;
            text-align: center;
            cursor:pointer;
        }
        .options:hover {
            /*text-shadow: 0 0 3px rgba(0, 0, 0, 0.3);*/
            text-decoration: underline;
        }
        .box {
            display: inline-block;
            width: 25px;
            height: 25px;
            border-radius: 25px;
            border: 3px black solid;
            position: relative;
            margin-right: 5px;
            top: 8px;
        }
        .selected_box::after {
            display: inline-block;
            content:"";
            width: 15px;
            height: 15px;
            background: black;
            border-radius: 15px;
            top:-8px;
            position: relative;
        }
        #warning {
            text-align: center;
            color:red;
            font-weight: bold;
        }

    </style>
    <div class="container-fluid">
        <!-- Intro -->
        <h1>Guessing the Story from a Conceptual Representation</h1>

        <div id="instruction">
            <h3>Instruction</h3>
            The <strong>conceptual representation</strong> is designed to illustrate the high-level concept of a story snippet.
            A conceptual representation will usually contains important <strong>nouns</strong>, <strong>verbs</strong>, and <strong>adjectives</strong> in the story.
            <br/><br/>
            Below, we present a conceptual representation using a word cloud. The size and the color is related to the importance of the words.
            In the following task, you will need to <span class="highlight">carefully read the conceptual representation</span>.
            Two stories will be presented, please select the one that is <span class="highlight">represented by the conceptual representation</span>.
        </div>
        <br><hr><br>



        <!-- Story -->
        <div>
            <h3>Read Stories!</h3>
            Given the above conceptual representation, please find out the closest story!
            <br><br>
            <div class="row justify-content-md-center">
                <div class="col-6">
                    <div  class="story_block" value="story_1">
                        <h4>Story 1</h4>
                        <pre>
Hopefully he'd remember that.
"This is first period English."
He turned to the large desk in front of the classroom, pulled a black binder from the top drawer, and flipped through the pages.
"Let's see," he said, looking between the binder and spread of empty desks in front of him.
"You can take the second chair in row three."
I nodded in thanks and turned to the assigned desk. Mr. Rivera marked the change in his seating chart.
Along my short walk, I glanced from the clock to the chalkboard, and then my eyes trailed over to the set of large windows overlooking the small town of Webster Grove.
So this was it--the latest school, and the newest town.
And honestly, I had no preconceived notions about my probable short-lived time here.
It was the fifth high school I'd attended in the last four years, eleventh total counting elementary school--yet something else to credit to my mother's impulsive behavior.
I slid in the chair and stared at the desk.
The first and only thing I noticed there were the carved initials in the upper right corner--BW+NB.
Surrounded by a heart etched in the wood, those four letters were carved deep enough to reason that someone had really taken their time to make that statement of love. Cute. Mr. Rivera caught my attention as he moved from his desk to the chalkboard.
He turned--a paper in one hand and a piece of chalk in the other--and began writing out the day's classroom agenda in small strokes.
With nothing but his backside to stare at, I continued watching him.
He was young--no older than twenty-four, I guessed--and obviously a new teacher.
And he was gorgeous.
He had just the perfect combination of assets working wonders for him--tanned skin, brown eyes, black hair.
Hispanic, maybe?
Or maybe not.
                        </pre>
                    </div>
                </div>
                <div class="col-6">
                    <div  class="story_block" value="story_2">
                        <h4>Story 2</h4>
                        <pre>
No one questioned him or his zero tolerance policy.
Instead, students began sending papers forward without a moment's hesitation.
"Maybe he's skipping because he didn't do the essay," Bridget whispered.
Right on cue, Nate walked in.
The class stared at him, sopping wet from head to toe.
There was no doubt he'd fallen victim to the torrential downpour outside.
Mr.
Rivera turned and raised his brow.
"I'm sorry I'm late Mr. R," Nate said.
"I got here as fast as I could.
I had something to deal with this morning."
"Procrastination on your essay, Mr. Bryan?"
"No sir."
His wet sneakers squeaked on the floor as he shuffled to his seat.
He slid in behind his desk and pulled the assignment from his bag.
"Absolutely not, Nate," Mr. Rivera said.
"You know the rules.
You're going to have to wait in the hall."
"Mr. R, man," Nate said.
"Come on!
                        </pre>
                    </div>
                </div>
            </div>

        <br><hr><br>

        <!-- Display -->
        <div>
            <h3>Conceptual Representation</h3>
            <div class="my_container" id="noun">
                <h2>Noun</h2>
            </div>
            <div class="my_container" id="verb">
                <h2>Verb</h2>
            </div>
            <div class="my_container" id="adj">
                <h2>Adj</h2>
            </div>
        </div>
        <br><hr><br>

        <!-- Question -->
        <div class="row justify-content-md-center" style="margin-bottom: 50px;">

            <div class="col-12">
                <h3>Question</h3>
                Please select the correct statement.
                <br>
                <br>
            </div>

            <div class="col-6 options" value="1">
                <span class="box"></span>
                This word cloud represents the story 1.
            </div>
            <div class="col-6 options" value="2">
                <span class="box"></span>
                This word cloud represents the story 2.
            </div>
        </div>

        <form id="mturk_form" name="mturk_form">
            <input name="id" type="hidden" value="test_123">
            <input name="story" type="hidden" value="-1" id="story_answer">
            <input name="setting" type="hidden" value="testing">
        </form>

        <div id="warning"></div>
        <button class="btn btn-outline-primary btn-sm btn-block" id="submit_button" disabled>Submit</button>


    </div>

</body>
</html>
